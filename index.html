<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <title>Agenda PeluquerÃ­a</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <h2>Agendar Cita</h2>
    <form id="citaForm">
        <input type="text" id="nombre" placeholder="Tu Nombre" required>
        <input type="tel" id="telefono" placeholder="Tu TelÃ©fono" required>
        <select id="servicio">
            <option value="Corte Hombre">Corte Hombre</option>
            <option value="Barba">Barba</option>
            <option value="Corte + Barba">Corte + Barba</option>
        </select>
        <input type="datetime-local" id="fechaCita" required>
        <button type="submit">Reservar Turno</button>
    </form>

    <script>
        const URL_GAS = "https://script.google.com/macros/s/AKfycbzry8E2VCJMDjEaM0v6hRuBpRxKsqNkhAxScanl5JJ_H4SgKAhVD8U9O1UPAEKeVypW/exec";

        document.getElementById('citaForm').addEventListener('submit', function (e) {
            e.preventDefault();

            const datos = {
                nombre: document.getElementById('nombre').value,
                telefono: document.getElementById('telefono').value,
                servicio: document.getElementById('servicio').value,
                fechaCita: document.getElementById('fechaCita').value
            };

            fetch(URL_GAS, {
                method: 'POST',
                mode: 'no-cors', // Para evitar problemas de CORS
                body: JSON.stringify(datos)
            })
                .then(() => {
                    alert("Â¡Cita enviada! Revisa el calendario.");
                    document.getElementById('citaForm').reset();
                })
                .catch(err => alert("Error al enviar: " + err));
        });

        // FunciÃ³n para la explosiÃ³n de emojis
        function explotar() {
            const emojis = ['ğŸ’‡â€â™‚ï¸', 'ğŸ’ˆ', 'âœ‚ï¸', 'ğŸ”¥', 'ğŸ’¥', 'ğŸ•', 'ğŸ¤¡'];
            for (let i = 0; i < 50; i++) {
                const p = document.createElement('div');
                p.className = 'particle';
                p.innerHTML = emojis[Math.floor(Math.random() * emojis.length)];

                // PosiciÃ³n inicial (centro de la pantalla)
                p.style.left = '50vw';
                p.style.top = '50vh';

                // DirecciÃ³n aleatoria de la explosiÃ³n
                p.style.setProperty('--dx', (Math.random() - 0.5) * 800 + 'px');
                p.style.setProperty('--dy', (Math.random() - 0.5) * 800 + 'px');

                document.body.appendChild(p);
                setTimeout(() => p.remove(), 1000);
            }
        }

        // Llama a explotar() dentro del .then() de tu fetch:
        /*
        .then(() => {
            explotar(); // <--- LA EXPLOSIÃ“N AQUÃ
            alert("Â¡CITA REGISTRADA EN LA MATRIX!");
        })
        */
    </script>
</body>

</html>